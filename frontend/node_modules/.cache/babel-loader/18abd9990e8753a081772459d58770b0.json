{"ast":null,"code":"import { BASE_URL } from \"../../config/config\";\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\nexport const SEARCH_PRODUCT = \"SEARCH_PRODUCT\";\nexport const fetchProdcuts = () => {\n  return async dispatch => {\n    const response = await fetch(BASE_URL + \"products\", {\n      method: \"GET\"\n    });\n    const resData = await response.json();\n    dispatch({\n      type: FETCH_PRODUCTS,\n      products: resData.products,\n      filtred: resData.products\n    });\n  };\n};\nexport const addProduct = (title, price, image, description) => {\n  try {\n    return async dispatch => {\n      let formData = new FormData();\n      formData.append(\"title\", title);\n      formData.append(\"price\", price);\n      formData.append(\"image\", image);\n      formData.append(\"description\", description);\n      const response = await fetch(BASE_URL + \"product\", {\n        method: \"POST\",\n        body: formData\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Somethong went  !!!\");\n      }\n\n      const resData = await response.json();\n      dispatch({\n        type: ADD_PRODUCT,\n        productData: {\n          id: resData._id,\n          title: resData.title,\n          price: resData.price,\n          image: resData.image,\n          description: resData.description\n        }\n      });\n    };\n  } catch (error) {\n    throw new Error(error.message);\n  }\n};\nexport const updateProduct = (productId, title, price, image, description) => {\n  return async dispatch => {\n    let formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"price\", price);\n    formData.append(\"image\", image);\n    formData.append(\"description\", description);\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"PUT\",\n      body: formData\n    });\n    const resData = await response.json();\n    dispatch({\n      type: UPDATE_PRODUCT,\n      id: productId,\n      productData: {\n        title: resData.title,\n        price: resData.price,\n        image: resData.image,\n        description: resData.description\n      }\n    });\n  };\n};\nexport const deleteProduct = productId => {\n  return async dispatch => {\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"DELETE\"\n    });\n    console.log(response);\n    const resData = await response.json();\n    dispatch({\n      type: DELETE_PRODUCT,\n      productId: productId\n    });\n  };\n};\nexport const searchProduct = searchText => {\n  return {\n    type: SEARCH_PRODUCT,\n    searchText: searchText\n  };\n};","map":{"version":3,"sources":["/Users/user/Desktop/Projects/Node Js/Recap/nodeJS-ReactJS-Crud/frontend/src/store/product/actions.js"],"names":["BASE_URL","ADD_PRODUCT","FETCH_PRODUCTS","DELETE_PRODUCT","UPDATE_PRODUCT","SEARCH_PRODUCT","fetchProdcuts","dispatch","response","fetch","method","resData","json","type","products","filtred","addProduct","title","price","image","description","formData","FormData","append","body","ok","Error","productData","id","_id","error","message","updateProduct","productId","deleteProduct","console","log","searchProduct","searchText"],"mappings":"AAAA,SAASA,QAAT,QAAyB,qBAAzB;AAEA,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AAEP,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACT,QAAQ,GAAG,UAAZ,EAAwB;AAClDU,MAAAA,MAAM,EAAE;AAD0C,KAAxB,CAA5B;AAIA,UAAMC,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAtB;AAEAL,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEX,cADC;AAEPY,MAAAA,QAAQ,EAAEH,OAAO,CAACG,QAFX;AAGPC,MAAAA,OAAO,EAAEJ,OAAO,CAACG;AAHV,KAAD,CAAR;AAKD,GAZD;AAaD,CAdM;AAgBP,OAAO,MAAME,UAAU,GAAG,CAACC,KAAD,EAAQC,KAAR,EAAeC,KAAf,EAAsBC,WAAtB,KAAsC;AAC9D,MAAI;AACF,WAAO,MAAOb,QAAP,IAAoB;AACzB,UAAIc,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBN,KAAzB;AACAI,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBL,KAAzB;AACAG,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,KAAzB;AACAE,MAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BH,WAA/B;AAEA,YAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAACT,QAAQ,GAAG,SAAZ,EAAuB;AACjDU,QAAAA,MAAM,EAAE,MADyC;AAEjDc,QAAAA,IAAI,EAAEH;AAF2C,OAAvB,CAA5B;;AAKA,UAAI,CAACb,QAAQ,CAACiB,EAAd,EAAkB;AAChB,cAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AACD;;AAED,YAAMf,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAtB;AAEAL,MAAAA,QAAQ,CAAC;AACPM,QAAAA,IAAI,EAAEZ,WADC;AAEP0B,QAAAA,WAAW,EAAE;AACXC,UAAAA,EAAE,EAAEjB,OAAO,CAACkB,GADD;AAEXZ,UAAAA,KAAK,EAAEN,OAAO,CAACM,KAFJ;AAGXC,UAAAA,KAAK,EAAEP,OAAO,CAACO,KAHJ;AAIXC,UAAAA,KAAK,EAAER,OAAO,CAACQ,KAJJ;AAKXC,UAAAA,WAAW,EAAET,OAAO,CAACS;AALV;AAFN,OAAD,CAAR;AAUD,KA5BD;AA6BD,GA9BD,CA8BE,OAAOU,KAAP,EAAc;AACd,UAAM,IAAIJ,KAAJ,CAAUI,KAAK,CAACC,OAAhB,CAAN;AACD;AACF,CAlCM;AAoCP,OAAO,MAAMC,aAAa,GAAG,CAACC,SAAD,EAAYhB,KAAZ,EAAmBC,KAAnB,EAA0BC,KAA1B,EAAiCC,WAAjC,KAAiD;AAC5E,SAAO,MAAOb,QAAP,IAAoB;AACzB,QAAIc,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBN,KAAzB;AACAI,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBL,KAAzB;AACAG,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,KAAzB;AACAE,IAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BH,WAA/B;AAEA,UAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAACT,QAAQ,GAAG,UAAX,GAAwBiC,SAAzB,EAAoC;AAC9DvB,MAAAA,MAAM,EAAE,KADsD;AAE9Dc,MAAAA,IAAI,EAAEH;AAFwD,KAApC,CAA5B;AAKA,UAAMV,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAtB;AAEAL,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAET,cADC;AAEPwB,MAAAA,EAAE,EAAEK,SAFG;AAGPN,MAAAA,WAAW,EAAE;AACXV,QAAAA,KAAK,EAAEN,OAAO,CAACM,KADJ;AAEXC,QAAAA,KAAK,EAAEP,OAAO,CAACO,KAFJ;AAGXC,QAAAA,KAAK,EAAER,OAAO,CAACQ,KAHJ;AAIXC,QAAAA,WAAW,EAAET,OAAO,CAACS;AAJV;AAHN,KAAD,CAAR;AAUD,GAxBD;AAyBD,CA1BM;AA4BP,OAAO,MAAMc,aAAa,GAAID,SAAD,IAAe;AAC1C,SAAO,MAAO1B,QAAP,IAAoB;AACzB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACT,QAAQ,GAAG,UAAX,GAAwBiC,SAAzB,EAAoC;AAC9DvB,MAAAA,MAAM,EAAE;AADsD,KAApC,CAA5B;AAGAyB,IAAAA,OAAO,CAACC,GAAR,CAAY5B,QAAZ;AACA,UAAMG,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAtB;AAEAL,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEV,cADC;AAEP8B,MAAAA,SAAS,EAAEA;AAFJ,KAAD,CAAR;AAID,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMI,aAAa,GAAIC,UAAD,IAAgB;AAC3C,SAAO;AACLzB,IAAAA,IAAI,EAAER,cADD;AAELiC,IAAAA,UAAU,EAAEA;AAFP,GAAP;AAID,CALM","sourcesContent":["import { BASE_URL } from \"../../config/config\";\n\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\nexport const SEARCH_PRODUCT = \"SEARCH_PRODUCT\";\n\nexport const fetchProdcuts = () => {\n  return async (dispatch) => {\n    const response = await fetch(BASE_URL + \"products\", {\n      method: \"GET\",\n    });\n\n    const resData = await response.json();\n\n    dispatch({\n      type: FETCH_PRODUCTS,\n      products: resData.products,\n      filtred: resData.products,\n    });\n  };\n};\n\nexport const addProduct = (title, price, image, description) => {\n  try {\n    return async (dispatch) => {\n      let formData = new FormData();\n      formData.append(\"title\", title);\n      formData.append(\"price\", price);\n      formData.append(\"image\", image);\n      formData.append(\"description\", description);\n\n      const response = await fetch(BASE_URL + \"product\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Somethong went  !!!\");\n      }\n\n      const resData = await response.json();\n\n      dispatch({\n        type: ADD_PRODUCT,\n        productData: {\n          id: resData._id,\n          title: resData.title,\n          price: resData.price,\n          image: resData.image,\n          description: resData.description,\n        },\n      });\n    };\n  } catch (error) {\n    throw new Error(error.message);\n  }\n};\n\nexport const updateProduct = (productId, title, price, image, description) => {\n  return async (dispatch) => {\n    let formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"price\", price);\n    formData.append(\"image\", image);\n    formData.append(\"description\", description);\n\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"PUT\",\n      body: formData,\n    });\n\n    const resData = await response.json();\n\n    dispatch({\n      type: UPDATE_PRODUCT,\n      id: productId,\n      productData: {\n        title: resData.title,\n        price: resData.price,\n        image: resData.image,\n        description: resData.description,\n      },\n    });\n  };\n};\n\nexport const deleteProduct = (productId) => {\n  return async (dispatch) => {\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"DELETE\",\n    });\n    console.log(response);\n    const resData = await response.json();\n\n    dispatch({\n      type: DELETE_PRODUCT,\n      productId: productId,\n    });\n  };\n};\n\nexport const searchProduct = (searchText) => {\n  return {\n    type: SEARCH_PRODUCT,\n    searchText: searchText,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
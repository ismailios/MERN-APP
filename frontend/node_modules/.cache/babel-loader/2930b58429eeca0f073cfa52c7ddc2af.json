{"ast":null,"code":"import { act } from \"react-dom/test-utils\";\nimport Product from \"../../models/Product\";\nimport { ADD_PRODUCT, DELETE_PRODUCT, FETCH_PRODUCTS, searchProduct, SEARCH_PRODUCT, UPDATE_PRODUCT } from \"./actions\";\nconst initialState = {\n  products: [],\n  filtred: []\n};\nexport const productReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT:\n      const id = action.productData.id;\n      const title = action.productData.title;\n      const price = action.productData.price;\n      const image = action.productData.image;\n      const description = action.productData.description;\n      const newProduct = new Product(id, title, price, image, description);\n      return { ...state,\n        products: state.products.concat(newProduct)\n      };\n\n    case FETCH_PRODUCTS:\n      return {\n        products: action.products,\n        filtred: action.filtred\n      };\n\n    case DELETE_PRODUCT:\n      const productId = action.productId;\n      let updatedProducts = state.products.filter(product => product._id !== productId);\n      return {\n        products: updatedProducts,\n        filtred: updatedProducts\n      };\n\n    case UPDATE_PRODUCT:\n      const prodId = action.id;\n      const updatePr = [...state.products];\n      const selectedProductIndex = state.products.findIndex(p => p._id === prodId);\n      const newUpdateProduct = new Product(prodId, action.productData.title, action.productData.price, action.productData.image, action.productData.description);\n      updatePr[selectedProductIndex] = newUpdateProduct;\n      return { ...state,\n        products: updatePr\n      };\n\n    case SEARCH_PRODUCT:\n      const searchText = action.searchText;\n      const searchPrice = action.searchPrice;\n      let searchProducts = \"\";\n      searchProducts = state.products.filter(p => {\n        return p.title.toLowerCase().trim().indexOf(searchText.toLowerCase().trim()) !== -1 || p.description.toLowerCase().trim().indexOf(searchText.toLowerCase().trim()) !== -1;\n      });\n      return { ...state,\n        filtred: searchProducts\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/user/Desktop/Projects/Node Js/Recap/nodeJS-ReactJS-Crud/frontend/src/store/product/reducer.js"],"names":["act","Product","ADD_PRODUCT","DELETE_PRODUCT","FETCH_PRODUCTS","searchProduct","SEARCH_PRODUCT","UPDATE_PRODUCT","initialState","products","filtred","productReducer","state","action","type","id","productData","title","price","image","description","newProduct","concat","productId","updatedProducts","filter","product","_id","prodId","updatePr","selectedProductIndex","findIndex","p","newUpdateProduct","searchText","searchPrice","searchProducts","toLowerCase","trim","indexOf"],"mappings":"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","sourcesContent":["import { act } from \"react-dom/test-utils\";\nimport Product from \"../../models/Product\";\nimport {\n  ADD_PRODUCT,\n  DELETE_PRODUCT,\n  FETCH_PRODUCTS,\n  searchProduct,\n  SEARCH_PRODUCT,\n  UPDATE_PRODUCT,\n} from \"./actions\";\n\nconst initialState = {\n  products: [],\n  filtred: [],\n};\n\nexport const productReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT:\n      const id = action.productData.id;\n      const title = action.productData.title;\n      const price = action.productData.price;\n      const image = action.productData.image;\n      const description = action.productData.description;\n\n      const newProduct = new Product(id, title, price, image, description);\n\n      return {\n        ...state,\n        products: state.products.concat(newProduct),\n      };\n\n    case FETCH_PRODUCTS:\n      return {\n        products: action.products,\n        filtred: action.filtred,\n      };\n\n    case DELETE_PRODUCT:\n      const productId = action.productId;\n      let updatedProducts = state.products.filter(\n        (product) => product._id !== productId\n      );\n\n      return {\n        products: updatedProducts,\n        filtred: updatedProducts,\n      };\n\n    case UPDATE_PRODUCT:\n      const prodId = action.id;\n      const updatePr = [...state.products];\n      const selectedProductIndex = state.products.findIndex(\n        (p) => p._id === prodId\n      );\n      const newUpdateProduct = new Product(\n        prodId,\n        action.productData.title,\n        action.productData.price,\n        action.productData.image,\n        action.productData.description\n      );\n      updatePr[selectedProductIndex] = newUpdateProduct;\n\n      return {\n        ...state,\n        products: updatePr,\n      };\n\n    case SEARCH_PRODUCT:\n      const searchText = action.searchText;\n      const searchPrice = action.searchPrice;\n      let searchProducts = \"\";\n\n      searchProducts = state.products.filter((p) => {\n        return (\n          p.title\n            .toLowerCase()\n            .trim()\n            .indexOf(searchText.toLowerCase().trim()) !== -1 ||\n          p.description\n            .toLowerCase()\n            .trim()\n            .indexOf(searchText.toLowerCase().trim()) !== -1\n        );\n      });\n\n      return {\n        ...state,\n        filtred: searchProducts,\n      };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
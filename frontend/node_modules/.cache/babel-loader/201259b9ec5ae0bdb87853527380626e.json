{"ast":null,"code":"import { BASE_URL } from \"../../config/config\";\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\nexport const SEARCH_PRODUCT = \"SEARCH_PRODUCT\";\nexport const fetchProdcuts = () => {\n  return async dispatch => {\n    const response = await fetch(BASE_URL + \"products\", {\n      method: \"GET\"\n    });\n    const resData = await response.json();\n    dispatch({\n      type: FETCH_PRODUCTS,\n      products: resData.products,\n      filtred: resData.products\n    });\n  };\n};\nexport const addProduct = (title, price, image, description) => {\n  return async dispatch => {\n    let formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"price\", price);\n    formData.append(\"image\", image);\n    formData.append(\"description\", description);\n    const response = await fetch(BASE_URL + \"product\", {\n      method: \"POST\",\n      body: formData\n    });\n\n    if (response.status != 200) {\n      throw new Error(\"somethong wrong\");\n    }\n\n    const resData = await response.json();\n    dispatch({\n      type: ADD_PRODUCT,\n      productData: {\n        id: resData._id,\n        title: resData.title,\n        price: resData.price,\n        image: resData.image,\n        description: resData.description\n      }\n    });\n  };\n};\nexport const updateProduct = (productId, title, price, image, description) => {\n  return async dispatch => {\n    let formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"price\", price);\n    formData.append(\"image\", image);\n    formData.append(\"description\", description);\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"PUT\",\n      body: formData\n    });\n    const resData = await response.json();\n    dispatch({\n      type: UPDATE_PRODUCT,\n      id: productId,\n      productData: {\n        title: resData.title,\n        price: resData.price,\n        image: resData.image,\n        description: resData.description\n      }\n    });\n  };\n};\nexport const deleteProduct = productId => {\n  return async dispatch => {\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"DELETE\"\n    });\n    console.log(response);\n    const resData = await response.json();\n    dispatch({\n      type: DELETE_PRODUCT,\n      productId: productId\n    });\n  };\n};\nexport const searchProduct = searchText => {\n  return {\n    type: SEARCH_PRODUCT,\n    searchText: searchText\n  };\n};","map":{"version":3,"sources":["/Users/user/Desktop/Projects/Node Js/Recap/nodeJS-ReactJS-Crud/frontend/src/store/product/actions.js"],"names":["BASE_URL","ADD_PRODUCT","FETCH_PRODUCTS","DELETE_PRODUCT","UPDATE_PRODUCT","SEARCH_PRODUCT","fetchProdcuts","dispatch","response","fetch","method","resData","json","type","products","filtred","addProduct","title","price","image","description","formData","FormData","append","body","status","Error","productData","id","_id","updateProduct","productId","deleteProduct","console","log","searchProduct","searchText"],"mappings":"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","sourcesContent":["import { BASE_URL } from \"../../config/config\";\n\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\nexport const SEARCH_PRODUCT = \"SEARCH_PRODUCT\";\n\nexport const fetchProdcuts = () => {\n  return async (dispatch) => {\n    const response = await fetch(BASE_URL + \"products\", {\n      method: \"GET\",\n    });\n\n    const resData = await response.json();\n\n    dispatch({\n      type: FETCH_PRODUCTS,\n      products: resData.products,\n      filtred: resData.products,\n    });\n  };\n};\n\nexport const addProduct = (title, price, image, description) => {\n  return async (dispatch) => {\n    let formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"price\", price);\n    formData.append(\"image\", image);\n    formData.append(\"description\", description);\n\n    const response = await fetch(BASE_URL + \"product\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (response.status != 200) {\n      throw new Error(\"somethong wrong\");\n    }\n\n    const resData = await response.json();\n\n    dispatch({\n      type: ADD_PRODUCT,\n      productData: {\n        id: resData._id,\n        title: resData.title,\n        price: resData.price,\n        image: resData.image,\n        description: resData.description,\n      },\n    });\n  };\n};\n\nexport const updateProduct = (productId, title, price, image, description) => {\n  return async (dispatch) => {\n    let formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"price\", price);\n    formData.append(\"image\", image);\n    formData.append(\"description\", description);\n\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"PUT\",\n      body: formData,\n    });\n\n    const resData = await response.json();\n\n    dispatch({\n      type: UPDATE_PRODUCT,\n      id: productId,\n      productData: {\n        title: resData.title,\n        price: resData.price,\n        image: resData.image,\n        description: resData.description,\n      },\n    });\n  };\n};\n\nexport const deleteProduct = (productId) => {\n  return async (dispatch) => {\n    const response = await fetch(BASE_URL + \"product/\" + productId, {\n      method: \"DELETE\",\n    });\n    console.log(response);\n    const resData = await response.json();\n\n    dispatch({\n      type: DELETE_PRODUCT,\n      productId: productId,\n    });\n  };\n};\n\nexport const searchProduct = (searchText) => {\n  return {\n    type: SEARCH_PRODUCT,\n    searchText: searchText,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}